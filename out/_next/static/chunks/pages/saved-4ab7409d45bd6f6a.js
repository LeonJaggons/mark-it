(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[539],{3735:function(t,e,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/saved",function(){return a(234)}])},9950:function(t,e,a){"use strict";a.d(e,{u:function(){return p}});var i=a(5893),n=a(8783),r=a(5460),s=a(7239),o=a(1136),c=a(7747),l=a(2757),u=a(1293),m=a(1664),d=a.n(m),f=a(1163);let p=t=>{let e=(0,f.useRouter)();return(0,i.jsxs)(n.g,{as:d(),href:"/item?id=".concat(t.item.itemID),w:"full",align:"flex-start",spacing:1,cursor:e.isReady?"pointer":"auto",onClick:()=>{e.isReady&&e.replace({pathname:"/item",query:{id:t.item.itemID}})},children:[t.item.images&&(0,i.jsx)(r.E,{src:t.item.images[0],aspectRatio:1,w:"full",objectFit:"cover",fallback:(0,i.jsx)(s.M,{w:"full",height:"full",aspectRatio:1,children:(0,i.jsx)(o.$,{color:"blackAlpha.400"})}),borderRadius:5}),(0,i.jsxs)(c.xu,{children:[(0,i.jsxs)(l.X,{size:"xs",children:["$",t.item.price]}),(0,i.jsx)(u.x,{fontSize:"sm",children:t.item.title})]})]})}},234:function(t,e,a){"use strict";a.r(e);var i=a(5893),n=a(1163),r=a(7294),s=a(9473),o=a(6121),c=a(9950),l=a(7747),u=a(2757),m=a(2177);e.default=()=>{let t=(0,n.useRouter)(),e=(0,s.v9)(t=>t.account.loggedIn),[a,d]=(0,r.useState)([]),f=async()=>{let t=await (0,o.D3)();console.log(t),d([...t])};return(0,r.useEffect)(()=>{f()},[]),(0,r.useEffect)(()=>{e||t.push("/")},[e]),e&&(0,i.jsxs)(l.xu,{px:"7vw",py:"12px",children:[(0,i.jsx)(u.X,{mb:4,children:"Saved"}),(0,i.jsx)(m.M,{columns:4,spacing:4,children:a.map(t=>(0,i.jsx)(c.u,{item:t}))})]})}},6121:function(t,e,a){"use strict";a.d(e,{$6:function(){return p},D3:function(){return m},HA:function(){return u},Nx:function(){return l},YI:function(){return f},lx:function(){return c},zo:function(){return d}});var i=a(4447);a(5922);var n=a(8216),r=a(6154),s=a(6100),o=a(6650);let c=async()=>{let t=n.h.getState().item.postItem,e={...t};n.h.getState().account.user;let a=e.images;for(let t of(delete e.images,console.log(e),Object.keys(e)))void 0===e[t]&&delete e[t];let r=(0,s.hJ)(i.DU,"item"),c=await (0,s.ET)(r,e).catch(t=>console.log(t));if(c){let t=c.id,e=[];if(a){let n=0;for(let r of a){n++;let a=(0,o.iH)(i.hr,"item/".concat(t,"/imgs/img-").concat(n,".jpg")),s=await fetch(r).catch(t=>console.log(t)),c=await s.blob(),l=await (0,o.KV)(a,c).catch(t=>console.log(t));if(l){let t=await (0,o.Jt)(l.ref);e.push(t)}}}await (0,s.r7)(c,{itemID:c.id,images:e})}},l=async()=>{let t=await r.Z.get("/api/item"),e=t.data;return e},u=async t=>{let e=await r.Z.get("/api/item?id=".concat(t));return e.data},m=async()=>{let t=n.h.getState().account.user.userID,e=await r.Z.get("api/favorite?userID=".concat(t));return e.data},d=async t=>{let e=await m();return null==e?void 0:e.map(t=>t.itemID).includes(t)},f=async t=>{let e=n.h.getState().account.user.userID;await r.Z.post("/api/favorite?itemID=".concat(t,"&userID=").concat(e))},p=async t=>{let e=n.h.getState().account.user.userID;await r.Z.delete("/api/favorite?itemID=".concat(t,"&userID=").concat(e))}},5460:function(t,e,a){"use strict";a.d(e,{E:function(){return c}});var i=a(6554),n=a(5893),r=(0,i.G)(function(t,e){let{htmlWidth:a,htmlHeight:i,alt:r,...s}=t;return(0,n.jsx)("img",{width:a,height:i,ref:e,alt:r,...s})});r.displayName="NativeImage";var s=a(7630),o=a(6914),c=(0,i.G)(function(t,e){let{fallbackSrc:a,fallback:i,src:c,srcSet:l,align:u,fit:m,loading:d,ignoreFallback:f,crossOrigin:p,fallbackStrategy:g="beforeLoadOrError",referrerPolicy:h,...w}=t,x=null!=d||f||!(void 0!==a||void 0!==i),v=(0,s.d)({...t,crossOrigin:p,ignoreFallback:x}),j=(0,s.z)(v,g),y={ref:e,objectFit:m,objectPosition:u,...x?w:function(t,e=[]){let a=Object.assign({},t);for(let t of e)t in a&&delete a[t];return a}(w,["onError","onLoad"])};return j?i||(0,n.jsx)(o.m.img,{as:r,className:"chakra-image__placeholder",src:a,...y}):(0,n.jsx)(o.m.img,{as:r,src:c,srcSet:l,crossOrigin:p,loading:d,referrerPolicy:h,className:"chakra-image",...y})});c.displayName="Image"},7239:function(t,e,a){"use strict";a.d(e,{M:function(){return s}});var i=a(6914),n=a(6554),r=a(5893),s=(0,i.m)("div",{baseStyle:{display:"flex",alignItems:"center",justifyContent:"center"}});s.displayName="Center";var o={horizontal:{insetStart:"50%",transform:"translateX(-50%)"},vertical:{top:"50%",transform:"translateY(-50%)"},both:{insetStart:"50%",top:"50%",transform:"translate(-50%, -50%)"}};(0,n.G)(function(t,e){let{axis:a="both",...n}=t;return(0,r.jsx)(i.m.div,{ref:e,__css:o[a],...n,position:"absolute"})})},2177:function(t,e,a){"use strict";a.d(e,{M:function(){return u}});var i=a(6554),n=a(6914),r=a(5893),s=(0,i.G)(function(t,e){let{templateAreas:a,gap:i,rowGap:s,columnGap:o,column:c,row:l,autoFlow:u,autoRows:m,templateRows:d,autoColumns:f,templateColumns:p,...g}=t;return(0,r.jsx)(n.m.div,{ref:e,__css:{display:"grid",gridTemplateAreas:a,gridGap:i,gridRowGap:s,gridColumnGap:o,gridAutoColumns:f,gridColumn:c,gridRow:l,gridAutoFlow:u,gridAutoRows:m,gridTemplateRows:d,gridTemplateColumns:p},...g})});s.displayName="Grid";var o=a(8940),c=a(7634),l=a(3951),u=(0,i.G)(function(t,e){let{columns:a,spacingX:i,spacingY:n,spacing:u,minChildWidth:m,...d}=t,f=(0,o.F)(),p=m?(0,l.XQ)(m,t=>{let e=(0,c.LP)("sizes",t,"number"==typeof t?`${t}px`:t)(f);return null===t?null:`repeat(auto-fit, minmax(${e}, 1fr))`}):(0,l.XQ)(a,t=>null===t?null:`repeat(${t}, minmax(0, 1fr))`);return(0,r.jsx)(s,{ref:e,gap:u,columnGap:i,rowGap:n,templateColumns:p,...d})});u.displayName="SimpleGrid"}},function(t){t.O(0,[774,888,179],function(){return t(t.s=3735)}),_N_E=t.O()}]);